dist: trusty
sudo: required
language: java
jdk:
- oraclejdk8
branches:
  except:
  - /\+travis\d+$/
env:
  global:
  - secure: CcazSC3A0gXtalgRMFDsvqa7yVVobWmT9nis5fpYyuCN82ufxkVA9Y4L29OOl2muacm7LNL7eV6RpPdhj51Xqxpwu59mWNATWvytK4QbU3eqHcw2q7u4NZSgU3yUXJAhp2s90BEVmG7PxgZUOR1ATv+TdBBRgeU68+hJjUvAV5vDSi4C9B88gj1+vcCAE89Skhp7PlCM2Yqe4UwlqIRAdIRC6vC3wB69VY8l8tG19Au/eHGDVMNsI2txmKJLaojsrm4lanf6qpQyCWAD8TEbcPd/MxyjxmHv6YN6zI0fYyZn7/oDtudBNxZYNnSVsZ6IVRM+gm+MEDSmQg1PpF8Sg/WpCdLI8ZbgdlECoU5HlXgLGIP9WgvHm9CwEkqOJPHKxJU6ZUe1a5fhJe6sXwGRJkUYzhYTxhfJUOjBjaGebRD+WB9Qux0tgdxuBzFD/yuHjWB8WVsLR1i62GP4mEoz6mn/h/HCW7kbfEUB/TKe6pUwCgLZVxv14WEXiO3Tp3cxI22fiFOm5eFm1+PZmRQZAeYw1lyKkJgMEJ5TfbVzrXC2EnoWVOTN3dHuHsK85nfYgCJkUfUNDUW+srPYO/72u+SlWEOiI7LjPR8dy2IpAgwd2Z+vBdxTCysHgDRq1RJMs6OVqCt4LScffGT3TSbWDm9iLkDX6lOLSc36+iajoWM=
  - secure: bzDQ20NdMZHz5PK2okmzSAJ1dxXphWEWoa0FmvfsAg0RtVT09EIeYk60EXlgg08QLxggkONtk96Pe+N5bCf47ey3rSq1Qkznsn92RUru+7VrfZHUeubb6vF3Rzq8My3xqs/3A9NSMadvrYgPawTOChDF2gKTeBQnpW/zAjaNeF3QONPSgAp5HV7qm/eY3LWIVOKeIRN8UBzz95pV5OzCCaS85cl27121Dtr0ereTkAkCfHrsTpqlNM3Nf7Be4/kXBiezIs+X+t8MFyEZlqMCLa1Ejj1xOd57hCJpbOPDBruKezITFtqfNl91Q3cgmzELkD5Bh3C/8704jPkhls75MJ2H+NpiO8i84RkCx5IyixH9Q6cPP6HuBR1RXp01B0Gdf+IBtMyKgQ5MLry9hpWsvagGv/CizU59zmfzsp8c3bFwhEj5CYG0OQ8v1ya7VS//H0rqNS8PJ8U1Lusv2A8b3o4x48aldU2Jq+4hQ9sJ3Tfv0h+Pth4l+AdljR2nQ8n60miz0cICMqbf8jRJPtFC8tK+CoJ54TBfD0unR3yNOTg285CKY69PXk2sKGl5Zt2jrn92BTwdOMJxI6KEiw8yOziVz5IgBoRJyEOvzEkYpTSvcXknzNFq+1Bk17nlh5Ifr+GTIOeFxeEHUQvuy8xMAecnY0geJlJmpc/nRvJNJ10=
  - secure: QP9elmDfbNpy5TccX7PqFIVdIWPV/tLHAq6lRYQ9fo2WkzHk1fLaY+u9PPSGT3cnwuiGgnHkF8ybc/FCUpvdp0mzCxj7AU+Nbg1qY5crBCJl15RVmmkqsWglS0k08+0hb0Ub5nzEOiBMssBvxKW6Yn8WieIs1BT9L9J55Nc2E1D5BeSIcqXXiEWjw4si57DwhphQcohJB+tq05IH7FEuipeX5p36M86v/BW2PYE7pdfn7/zLvsPSy0LJsnt9t04Vp1oF70Lz1HgjC6i0x45iUB21/FaK99KCZfh9XVcch7XEW1XUGg1QyqwbZPfO0fBuZN9/p/KV1pNo678lJaF9B1vTULnctJkbEMmLFBpvHZITlvxtyBtXeQT7REo09/x/tNiYGuv72gGbzSTmw1TBG6nSKzix31Jg96moYiFuUD0J11Hx0jCBNUBeOmgBmn6bssmjiwqV04POP2un6Z9FRHC+PIYhUiZ5pqn94xoG9q04bD14N+cTxcYAUMS9QYkM1VXny5y2X0bSijDgF7+lfhg2Pd1MLtCJWZwhAC34sedDHhfaQ5JcVWirKBuP3iH8ewEYPicjtGKaLb9vxte/2y8GzER+mn8UYu0IcFDqvW9mHPE4WQgvhuGxbQsRAWI32y+tVA9a1YsNKbSmEi1DVg0x81KATLhPI5yesmkoN4Q=
  - secure: Fqujj4qKQGlV8Au/InLaD259cP5RRyDIeXk4UGPh2DZ7N1Al+br2lyo4GvYPVD7HZd335D036G3i3SC1QHx+LbU88MjIg53/j9stzE4j1NMDtyrQrdc2MPSXHpAMso7R3c6tT0Yow7xPPjtgjFMtwUt98kF59EMc6wKAKEyHaYGuse1TJ2QrYjWgx9MI1MJDr82+5VY9nK10ZVcsR7hIXDZdayLLpGD2agD+upCAczAQ6OrHdOseaM6UDbdKm/Bd9KwZ+Uqo/7KFcNRQEuBqug3OOMieeBp93htsOQDfB1zQD3+rg8BgVH20OC+zJFzmmpKZxcXfaH01y/XKiBMw/tdutX/bRZRO9g+ZTa3wqxGS8EUgnPlakKQRaZt/jUJ0AhP9rh/WoGsy2vvGojEDJm7TnNB7G+qIzHnjSf59GKJQYN+6f8FN1mfDoP2Q1lPPEEdKnYOw2UgYrpvIdwiqqUEMHb/B3EENqgRZX/9pE4MbOpslqbFlDECVe15+q+nl2scj8AcYxy9Lk6n56aL3yOJ0m7VYg5/P6cT74GdiYFT1zoL+tTPFQnFt2AqS5dlyHLHOHTVFi0K3871zigy/w0tBDpDFOWDZ7jBZizEJtAwi30FZ3UJDbG+8ES2OfxkwwlVVLkEK0/FOpxaozLcpt4Jip1ee1/QsLI1gLnEXcbk=
install:
script: bash src/main/scripts/travis-build.bash
notifications:
  email: false
  webhooks:
    on_success: always
    on_failure: always
    on_start: always
    on_cancel: always
    on_error: always
    urls:
    - https://webhook.atomist.com/travis
cache:
  directories:
  - $HOME/.m2
deploy:
  provider: releases
  api_key:
    secure: XMVzAeihb2paKyUTYRRsJisjy5HCesi0FZ5sPLgmNl3U8+wkY70xlcsoJ83g8aB7yaOO4GTBUI6BzHHsN5qXPfFIgVCVVmmN9yAo6qcxj7X2Q0n1l7biawVmgpqjJdwwVWbd876mdJziLoSRqhfjP6LVp+10EZ3d5WYQ6KuwCvMptI7Ar/MLNZab0ZaebexaQCS/Z+FKekglNSXETxUdlpM87do2ZUtSDQ4A6K8lKKOseSq0sQqzaShpRkYXNi3D3HMxMSs4Iy75Beslcgcq0InQLSHbjLNOTDvZTgONABa6atGwJ5n6WbS7yKTJNH6aTxcpJlsNs+CnrWpQOJBRcysRxldsCUqW6CPA+zpYSWSmQ8OE2U1Rq9yKAKmvaLRA9uom1N5lC8kOWs6UsRkSudgZUDEBWidJbwAhqg30yxtlMiZtcB01vzXtcv4C64nzI4tI8e38xxVc6ieS1FFPJkYg2t/xd+ywGB58LlC1/9l/7xZEZGiQXafpPzi4xlOjw1CItpPmlMdBdIhe3MTFWgXrpwQVp04TpH6wGr234JToJJLI3JObHGJOebE75l2fijXCZvBvX1MX+y8dL1LJDfx84GCa9JNaE+fI0VTdlhVBDnlTq24i77jFHcBgKu2JX3jImHJsoVlDyUfab4JSr9YsG5PcuwTJrwV1doIYY8w=
  on:
    tags: true
    condition: $TRAVIS_TAG =~ ^[0-9]+\.[0-9]+\.[0-9]+$
before_install:
- openssl aes-256-cbc -K $encrypted_e8a1e85022ec_key -iv $encrypted_e8a1e85022ec_iv
  -in atomist_sec.gpg.enc -out atomist_sec.gpg -d
addons:
  apt:
    packages:
    - openssl
    - gnupg
